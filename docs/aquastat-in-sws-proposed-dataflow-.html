<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 1 AQUASTAT in SWS: proposed dataflow {-} –&gt; | Migration of FISHERIES Statistical Processes into the SWS</title>
  <meta name="description" content="This online book describes the migration of the statistical processes performed by the FAO Fisheries and Aquaculture Department into the Corporate Statistical Working System (SWS)">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 1 AQUASTAT in SWS: proposed dataflow {-} –&gt; | Migration of FISHERIES Statistical Processes into the SWS" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This online book describes the migration of the statistical processes performed by the FAO Fisheries and Aquaculture Department into the Corporate Statistical Working System (SWS)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 AQUASTAT in SWS: proposed dataflow {-} –&gt; | Migration of FISHERIES Statistical Processes into the SWS" />
  
  <meta name="twitter:description" content="This online book describes the migration of the statistical processes performed by the FAO Fisheries and Aquaculture Department into the Corporate Statistical Working System (SWS)" />
  

<meta name="author" content="Charlotte Taglioni (Statistician, ESSD - Methodological Innovation Team)">


<meta name="date" content="2019-10-21">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="new-aquastat-methodology.html">
<link rel="next" href="sws-resources.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="ess.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#introduction"><strong>Introduction</strong></a></li>
<li><a href="migration-actors.html#migration-actors"><strong>Migration actors</strong></a></li>
<li><a href="new-aquastat-methodology.html#new-aquastat-methodology"><strong>New AQUASTAT methodology</strong></a><ul>
<li class="chapter" data-level="0.1" data-path="new-aquastat-methodology.html"><a href="new-aquastat-methodology.html"><i class="fa fa-check"></i><b>0.1</b> <strong>The current AQUASTAT information management</strong> {-} –&gt;</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="aquastat-in-sws-proposed-dataflow-.html"><a href="aquastat-in-sws-proposed-dataflow-.html"><i class="fa fa-check"></i><b>1</b> <strong>AQUASTAT in SWS: proposed dataflow</strong> {-} –&gt;</a></li>
<li><a href="sws-resources.html#sws-resources"><strong>SWS resources</strong></a><ul>
<li><a href="sws-resources.html#code-lists"><strong>Code lists</strong></a></li>
<li><a href="sws-resources.html#data-tables"><strong>Data tables</strong></a></li>
<li><a href="sws-resources.html#datasets"><strong>Datasets</strong></a></li>
</ul></li>
<li><a href="aquastat-elements.html#aquastat-elements"><strong>AQUASTAT Elements</strong></a><ul>
<li><a href="aquastat-elements.html#the-sws-aquastat_reference-data-table"><strong>The SWS aquastat_reference data table</strong></a><ul>
<li><a href="aquastat-elements.html#current-aquastat-variables"><strong>Current AQUASTAT Variables</strong></a></li>
<li><a href="aquastat-elements.html#current-aquastat-indicators"><strong>Current AQUASTAT indicators</strong></a></li>
<li><a href="aquastat-elements.html#current-external-data"><strong>Current External data</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ProcProd.html"><a href="ProcProd.html"><i class="fa fa-check"></i><b>2</b> <strong>Processed production data </strong></a><ul>
<li class="chapter" data-level="2.1" data-path="ProcProd.html"><a href="ProcProd.html#general-domain-description1"><i class="fa fa-check"></i><b>2.1</b> General domain description[^1]</a></li>
<li class="chapter" data-level="2.2" data-path="ProcProd.html"><a href="ProcProd.html#data-collection-and-data-entry-processes"><i class="fa fa-check"></i><b>2.2</b> Data collection and data entry processes</a></li>
<li class="chapter" data-level="2.3" data-path="ProcProd.html"><a href="ProcProd.html#data-imputation-and-validation-processes"><i class="fa fa-check"></i><b>2.3</b> Data imputation and validation processes</a><ul>
<li class="chapter" data-level="2.3.1" data-path="ProcProd.html"><a href="ProcProd.html#export-approach"><i class="fa fa-check"></i><b>2.3.1</b> Export approach</a></li>
<li class="chapter" data-level="2.3.2" data-path="ProcProd.html"><a href="ProcProd.html#primary-production-approach"><i class="fa fa-check"></i><b>2.3.2</b> Primary production approach</a></li>
<li class="chapter" data-level="2.3.3" data-path="ProcProd.html"><a href="ProcProd.html#ensemble-method-approach"><i class="fa fa-check"></i><b>2.3.3</b> Ensemble method approach</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="ProcProd.html"><a href="ProcProd.html#sws-objects-and-the-shiny-application"><i class="fa fa-check"></i><b>2.4</b> SWS objects and the shiny application</a><ul>
<li class="chapter" data-level="2.4.1" data-path="ProcProd.html"><a href="ProcProd.html#datatables"><i class="fa fa-check"></i><b>2.4.1</b> Datatables</a></li>
<li class="chapter" data-level="2.4.2" data-path="ProcProd.html"><a href="ProcProd.html#application-goal"><i class="fa fa-check"></i><b>2.4.2</b> Application goal</a></li>
<li class="chapter" data-level="2.4.3" data-path="ProcProd.html"><a href="ProcProd.html#application-structure"><i class="fa fa-check"></i><b>2.4.3</b> Application structure</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="AquastatUpdate.html"><a href="AquastatUpdate.html"><i class="fa fa-check"></i><b>3</b> <strong>The faoswsAquastaUpdate module</strong></a><ul>
<li class="chapter" data-level="3.1" data-path="AquastatUpdate.html"><a href="AquastatUpdate.html#aims"><i class="fa fa-check"></i><b>3.1</b> <strong>Aims</strong></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ProcProdcode.html"><a href="ProcProdcode.html"><i class="fa fa-check"></i><b>4</b> <strong>The Processed production imputation shiny R code</strong></a><ul>
<li class="chapter" data-level="4.1" data-path="ProcProdcode.html"><a href="ProcProdcode.html#global.r-file"><i class="fa fa-check"></i><b>4.1</b> ‘global.R’ file</a></li>
<li class="chapter" data-level="4.2" data-path="ProcProdcode.html"><a href="ProcProdcode.html#ui.r-file"><i class="fa fa-check"></i><b>4.2</b> ‘ui.R’ file</a></li>
<li class="chapter" data-level="4.3" data-path="ProcProdcode.html"><a href="ProcProdcode.html#server.r-file"><i class="fa fa-check"></i><b>4.3</b> ‘server.R’ file</a><ul>
<li class="chapter" data-level="4.3.1" data-path="ProcProdcode.html"><a href="ProcProdcode.html#export-approach-tab"><i class="fa fa-check"></i><b>4.3.1</b> Export approach tab</a></li>
<li class="chapter" data-level="4.3.2" data-path="ProcProdcode.html"><a href="ProcProdcode.html#primary-production-approach-tab"><i class="fa fa-check"></i><b>4.3.2</b> Primary production approach tab</a></li>
<li class="chapter" data-level="4.3.3" data-path="ProcProdcode.html"><a href="ProcProdcode.html#summary-tab"><i class="fa fa-check"></i><b>4.3.3</b> Summary tab</a></li>
<li class="chapter" data-level="4.3.4" data-path="ProcProdcode.html"><a href="ProcProdcode.html#update-mapping-process"><i class="fa fa-check"></i><b>4.3.4</b> Update mapping process</a></li>
<li class="chapter" data-level="4.3.5" data-path="ProcProdcode.html"><a href="ProcProdcode.html#imputing-new-values-and-saving-changes-into-the-sws"><i class="fa fa-check"></i><b>4.3.5</b> Imputing new values and saving changes into the SWS</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="ProcProdcode.html"><a href="ProcProdcode.html#functionsExp"><i class="fa fa-check"></i><b>4.4</b> ‘external_functions.R’ file</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Migration of FISHERIES Statistical Processes into the SWS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="aquastat-in-sws-proposed-dataflow--" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> <strong>AQUASTAT in SWS: proposed dataflow</strong> {-} –&gt;</h1>
<!-- AQUASTAT dataflow will predominantly be triggered by the filling and compilation of the **Water and Agriculture questionnaire** by the AQUASTAT network of National Correspondents. The CIO - SWS counterpart is responsible for creating a tailored questionnaire harvesters to automatically extract data from filled surveys and output it as an SWS compliant dataset. Once in the SWS, the technical unit will benefit from the tools and other features that have been developed to make the AQUASTAT dataflow as seamless as possible. On this basis, the flowchart below gives the AQUASTAT dataflow that has been fostered by the ESS - SWS team. -->
<!-- ```{r fig2, echo=FALSE, fig.cap='Developed AQUATAST - SWS dataflow', message=FALSE, warning=FALSE} -->
<!-- require(DiagrammeR) -->
<!-- DiagrammeR::grViz("digraph { -->
<!-- graph [layout = dot, rankdir = TB] -->
<!-- # define the global styles of the nodes. We can override these in box if we wish -->
<!-- node [shape = rectangle, style = filled, fillcolor = Linen] -->
<!-- # Inputs -->
<!-- coordination [label = 'Source \n coordination \n between agencies', shape = folder, fillcolor = Beige] -->
<!-- Surveys [label = 'Source \n Country surveys \n and census', shape = folder, fillcolor = Beige] -->
<!-- Literature [label = 'Source \n Literature review', shape = folder, fillcolor = Beige] -->
<!-- focalpoint [label = 'Compilation: \n questionnaire filling \n by AQUASTAT \n national correspondent', shape = folder, fillcolor = Beige] -->
<!-- SWSQH [label = 'Harvester: \n questionnaire harvesting \n by CIO - SWS', fillcolor = LightBlue] -->
<!-- Newdata [label = 'Dataset: \n data harvested from questionnaire \n and SWS compliant', shape = folder, fillcolor = Beige] -->
<!-- QA1 [label = 'QAQC \n Manual Quality control \n of data harvested from questionnaire', fillcolor = PaleGreen] -->
<!-- Newdata_val [label = 'Dataset: \n aquastat_questionnaire', shape = folder, fillcolor = Beige] -->
<!-- APIsourcing [label = 'Process: \n faoswsAquastatExternal module', fillcolor = PaleGreen] -->
<!-- APIdata [label = 'Dataset: \n aquastat_external', shape = folder, fillcolor = Beige] -->
<!-- oldsystem [label = 'Database: \n Old Aquastat Working System', shape = folder, fillcolor = Beige] -->
<!-- Migration [label = 'Migration: \n legacy data into the SWS \n done by CIO - SWS', fillcolor = LightBlue] -->
<!-- legacydata [label = 'Dataset: \n aquastat_legacy dataset ', shape = folder, fillcolor = Beige] -->
<!-- update [label = 'Process:: \n SWS faoswsAquastatUpdate module: \n 1. merges the questionnaire data, external data, and aquastat_legacy_corr \n 2. flag conversion, \n 3. apply calculations, 4. impute data, 5.  apply recalculations', shape = losangle, fillcolor = PaleGreen] -->
<!-- updateddata [label = 'Dataset: \n aquastat_update \n from SWS faoswsAquastatUpdate module ', shape = folder, fillcolor = Beige] -->
<!-- agg_proc [label = 'Process: \n faoswsAquastatAggregation module \n (Get regional SDG aggregations)', fillcolor = PaleGreen] -->
<!-- agg_out [label = 'Dataset: \n aquastat_aggregation \n sent to the user by email (.csv file)', shape = folder, fillcolor = Beige] -->
<!-- QA2 [label = 'Process: \n Automate Quality control \n by faoswsAquatsatValidation module', fillcolor = PaleGreen] -->
<!-- validationemail [label = 'Dataset: \n Validation output \n sent to the user by email (.csv file)', shape = folder, fillcolor = Beige] -->
<!-- QA3 [label = 'Process: \n Manual Quality control \n of faoswsAquatsatValidation module output', fillcolor = PaleGreen] -->
<!-- validated [label = 'Dataset: \n aquastat_update \n cleared by technical division', shape = folder, fillcolor = Beige] -->
<!-- AQUASWSdb [label = 'Dataset: \n aquastat_update \n saved in the SWS database', shape = folder, fillcolor = Beige] -->
<!-- Diss [label = 'Dissemination: \n  Web, publications, Apps', shape = folder, fillcolor = LightGrey] -->
<!-- # Flow -->
<!-- # edge definitions with the node IDs -->
<!-- {coordination, Surveys, Literature} -> focalpoint -> SWSQH -> Newdata -> QA1 -> Newdata_val -> update -->
<!-- {oldsystem} -> Migration -> legacydata -> update  -->
<!-- {APIsourcing} -> APIdata -> update -> updateddata -> QA2 -> validationemail -> QA3 -> validated -> AQUASWSdb -> Diss -->
<!-- {validated} -> agg_proc -> agg_out -> Diss -->
<!-- }") -->
<!-- ``` -->
<!-- <br> -->
<!-- <br> -->
<!-- ```{block , type='rmdimportant'} -->
<!-- **IMPORTANT:** -->
<!-- Notice that the questionnaire harvester produced by CIO - SWS counterpart represents the first contact of the questionnaire - based data with the SWS. The harvester for data in AQUASTAT questionnaire has not yet been developed by CIO; therefore, while the CIO harvester is not in place, the faoswsAquastatUpdate module reads the **aquastat_questionnaire** from the sws-share drive. The file location is: -->
<!-- (**//hqlprsws1.hq.un.fao.org/sws_r_share/AquastatValidation/data/Update/aquastat_questionnaire.csv**). -->
<!-- **WARNING!!!** -->
<!-- When updating the aquastat_questionnaire file to be saved in the (**/AquastatValidation/data/Update/aquastat_questionnaire.csv**) please remember that the columns must be named as **geographicAreaM49** (M49 codes), **aquastatElement**, **timePointYears**, **flagAquastat**. -->
<!-- ``` -->
<!-- <br> -->
<!-- <br> -->
</div>
            </section>

          </div>
        </div>
      </div>
<a href="new-aquastat-methodology.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sws-resources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
